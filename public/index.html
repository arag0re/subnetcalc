<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <script type='text/javascript' src='scripts/subnet.js'></script>
        <script src="scripts/jquery-3.6.1.min.js"></script>
        <script type='text/javascript' src='scripts/bootstrap.min.js'></script>
        <link type="text/css" rel="stylesheet" href="style.css">
        <link rel="icon" type="image/x-icon" href="favicon.ico">
        <script>
        function calc() {
            var formData = new FormData(document.querySelector('form'))
            let calc = new SubnetCalc(formData.get("ipv4"), formData.get("netmask"));
            console.log(calc)
            setData("addressPlaceholder", "Address:  " + calc.ipv4Address + " " + calc.addDots(calc.ipv4))
            setData("netmaskPlaceholder", "Netmask:  " + calc.netmaskAddress + " " + calc.addDots(calc.netmask))
            setData("wildcardPlaceholder", "Wildcard:  " + calc.wildcardAddress + " " + calc.addDots(calc.wildcard))    
            setData("networkPlaceholder", "Network:  " + calc.networkAddress + `/${calc.netmaskInput}` + " " + calc.addDots(calc.network) +  ` (${calc.class}-Class)`)
            setData("broadcastPlaceholder", "Broadcast:  " + calc.broadcastAddress + " " + calc.addDots(calc.broadcast))
            setData("minHostPlaceholder", "minHost:  " + calc.hostMinAddress + " " + calc.addDots(calc.hostMin))
            setData("maxHostPlaceholder", "maxHost:  " + calc.hostMaxAddress + " " + calc.addDots(calc.hostMax))
            setData("hostsPlaceholder", "Hosts:  " + calc.hosts)
            return false;
        }

        function setData(id, data){
            document.getElementById(id).innerText = data;
        }
        </script>
    </head>
    <body>
        <div id="mainBody">
            <form onsubmit="return calc();" id="form">
                <section>
                    <div style="float:left;margin-right:5px;">
                        <label id="ipv4-label" for="ipv4">Address (IPv4)</label>
                        <input type="text" class="input" id="ipv4" name="ipv4" placeholder="Host or Netaddress">
                    </div>
                    <div style="float:left;margin-right:10px;">
                        <p id="slash">/</p>
                    </div>
                    <div style="float:left;margin-right:20px;">
                        <label id="netmask-label" for="netmas">Netmask i.e 24</label>
                        <input class="input" type="text" id="netmask" name="netmask" placeholder="Netmask z.B 24">
                    </div>
                    <div style="float:left;">
                        <input id="submitButton" type="submit" value="Submit">
                    </div>
                    <br style="clear:both;" />
                </section>    
            </form>
            <p id="addressPlaceholder">Address: </p>
            <p id="netmaskPlaceholder">Netmask: </p>
            <p id="wildcardPlaceholder">Wildcard: </p>
            <p>=></p>
            <p id="networkPlaceholder">Network: </p>
            <p id="broadcastPlaceholder">Broadcast: </p>
            <p id="minHostPlaceholder">minHost: </p>
            <p id="maxHostPlaceholder">maxHost: </p>
            <p id="hostsPlaceholder">Hosts/Network: </p>
        </div>
    </body>
</html>